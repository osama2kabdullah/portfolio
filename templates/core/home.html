{% extends "base.html" %}
{% load static %}

{% block title %}
Alex | Digital Craftsman
{% endblock %} 

{% block css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}" />
{% endblock %} 

{% block content %}
<!-- HERO -->
<section class="hero">
  <h1 class="display-text">
    Creating digital <br />
    <span style="color: var(--text-muted); font-style: italic"
      >experiences</span
    >
    that leave a mark.
  </h1>
  <p class="hero-sub">
    Freelance Creative Developer helping brands stand out through clean code and
    thoughtful design.
  </p>
  <div class="hero-scroll-btn">Scroll &darr;</div>
</section>

<!-- BENTO ABOUT -->
<section id="about" class="section-padding">
  <div class="section-title">About Me</div>
  <div class="bento-grid">
    <!-- Main About Box -->
    <div class="bento-box box-large">
      <h2 style="font-size: 2.5rem; line-height: 1.1">I blend technical expertise with creative problem-solving</h2>
      
      <p>{{ profile.short_bio }}</p>
      
      {% if profile.profile_image %}

      <div style="margin-top: 10px;">
        <img src="{{ profile.profile_image.url }}" alt="Profile Image">
      </div>
      {% endif %}
      
      <div style="margin-top: 10px;">
        <a href="{% url 'about' %}" class="btn-link">Read My Full Story</a>
      </div>
    </div>

    <!-- Skills Box -->
    <div style="justify-content: flex-start;" class="bento-box box-skill">
      <h3>Skills</h3>
      {% if profile.skills.all %}
      <div class="skill-list">
        {% for skill in profile.skills.all %}
        <span class="skill-pill">{{ skill.name }}</span>
        {% endfor %}
      </div>
      {% else %}
      <span style="font-size: 0.8rem; color: var(--text-muted)">
        No skills to show
      </span>
      {% endif %}
    </div>

    <!-- Stats Box -->
    <div class="bento-box">
      <h3 style="font-size: 3rem; color: var(--primary)">{{ profile.years_of_experience }}+</h3>
      <p style="margin: 0">Years of Exp.</p>
      <h3 style="font-size: 3rem; color: var(--primary); margin-top: 10px">
        {{ project_count }}+
      </h3>
      <p style="margin: 0">Projects Shipped</p>
    </div>
  </div>
</section>

<!-- SERVICES LIST -->
{% if services %}
<section id="services" class="section-padding">
<div class="section-title">Services</div>

{% for service in services %}
<a href="{% url 'service_detail' service.slug %}" class="service-item">
    <span class="service-num">{{ forloop.counter|stringformat:"02d" }}</span>
    <span class="service-name">{{ service.title }}</span>
    <span class="service-arrow">&rarr;</span>
</a>
{% endfor %}

<div style="margin-top: 40px; text-align: right">
    <a href="{% url 'service_list' %}" class="btn-link">View All Services</a>
</div>
</section>
{% endif %}

<!-- WORK GALLERY (Asymmetrical) -->
{% if projects %}
<section id="work" class="section-padding">
  <div class="section-title">Selected Work</div>

  <div class="projects-wrapper">
    {% for project in projects %}
    <a href="{% url 'project_detail' project.slug %}" class="project-card">
      {% if project.image %}
      <div class="project-img-wrap">
      <!-- Replace with Image -->
      <img
        src="{{ project.image.url }}"
        alt="{{ project.title }}"
      />
      </div>
      {% endif %}
      <div class="project-meta">
        <h3>{{ project.title }}</h3>
        <div class="project-tags">{{ project.excerpt|default:project.hero_description|truncatechars:140 }}</div>
      </div>
    </a>
    {% endfor %}
  </div>

  <div style="text-align: center; margin-top: 80px">
    <a href="{% url 'project_list' %}" class="btn-link">View Entire Archive</a>
  </div>
</section>
{% endif %}

<!-- REVIEWS & JOURNAL -->
 {% if testimonials or posts %}
 <div class="dual-section section-padding">
   {% if testimonials %}
   <section id="reviews">
     <div class="section-title">Testimonials</div>
     {% for testimonial in testimonials %}
     <div class="review-card">
       <p class="review-quote">
         "{{ testimonial.body }}"
       </p>
       <div style="display: flex; gap: 15px; align-items: center">
         <div
           style="
             width: 40px;
             height: 40px;
             background: #ddd;
             border-radius: 50%;
           "
         ></div>
         <div>
           <strong>{{ testimonial.name }}</strong><br />
           <span style="font-size: 0.8rem; color: var(--text-muted)"
             >{{ testimonial.role }}</span
           >
         </div>
       </div>
     </div>
     {% endfor %}
     <a href="{% url 'testimonials_list' %}" class="btn-link">Read Client Stories</a>
   </section>
   {% endif %}
   {% if posts %}
   <section id="journal">
     <div class="section-title">The Journal</div>
 
     {% for post in posts %}
     <a href="{% url 'post_detail' post.slug %}" class="blog-list-item">
       <h4>{{ post.title }}</h4>
       <span style="color: var(--text-muted); font-size: 0.8rem">{{ post.updated | date:"F d, Y" }}</span>
     </a>
     {% endfor %}
 
     <div style="margin-top: 30px">
       <a href="{% url 'post_list' %}" class="btn-link">Read All Articles</a>
     </div>
   </section>
   {% endif %}
 </div>
 {% endif %}
{% endblock %}
