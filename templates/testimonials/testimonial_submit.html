{% extends "base.html" %}
{% load static %}
{% block title %}Submit Testimonial{% endblock %}
{% block content %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/testimonial_submit.css' %}" />
<link rel="stylesheet" href="{% static 'css/contact.css' %}" />
{% endblock %}
<header class="testimonial-hero">
  <div class="section-title" style="justify-content: center;">Share Your Experience</div>
  
  <h1 class="display-text">
      Leave a Testimonial for AlexDev.
  </h1>

  <p>
      Your honest feedback is invaluable. If you've enjoyed working together, please take a moment to share your experience with others. Thank you for being a fantastic client!
  </p>
</header>

<section class="testimonial-form-wrapper">
  <form method="post" id="testimonialForm">
      {% csrf_token %}
  
      <div class="form-group">
          <label>Your Full Name</label>
          <input
              type="text"
              name="name"
              required
              placeholder="Jane Smith"
              value="{{ form.name.value|default_if_none:'' }}"
          >
      </div>
  
      <div class="form-group">
          <label>Your Title / Company Name</label>
          <input
              type="text"
              name="company"
              placeholder="CTO at TechSolutions"
              value="{{ form.company.value|default_if_none:'' }}"
          >
      </div>
  
      <div class="form-group">
          <label>Email Address (private)</label>
          <input
              type="email"
              name="email"
              required
              value="{{ form.email.value|default_if_none:'' }}"
          >
      </div>
  
      {% if not project %}
          <div class="form-group">
              <label>Project (optional)</label>
              <select name="project">
                  <option value="">— Select project —</option>
                  {% for p in form.fields.project.queryset %}
                      <option value="{{ p.id }}"
                          {% if form.project.value == p.id|stringformat:"s" %}selected{% endif %}
                      >
                          {{ p.title }}
                      </option>
                  {% endfor %}
              </select>
          </div>
      {% else %}
          <input type="hidden" name="project" value="{{ project.id }}">
      {% endif %}
  
      <div class="form-group">
          <label>Your Testimonial</label>
          <textarea
              name="body"
              rows="6"
              required
              placeholder="Alex delivered a flawless system..."
          >{{ form.body.value|default_if_none:'' }}</textarea>
      </div>
  
      <button type="submit" class="submit-btn">
          Submit My Testimonial →
      </button>
  </form>
</section>


{% endblock %}
