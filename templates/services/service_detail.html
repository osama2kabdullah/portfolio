{% extends "base.html" %}
{% load static %}
{% block title %}{{ service.title }}{% endblock %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/service_detail.css' %}" />
<link rel="stylesheet" href="{% static 'css/contact.css' %}" />
{% endblock %}

{% block content %}

<!-- SERVICE HEADER -->
<section class="service-intro">
    <div class="section-title">Service #{{ service.order }}</div>
    <h1 class="display-text">{{ service.title }}</h1>
    {% if service.description %}
    <p>{{ service.description }}</p>
    {% endif %}
</section>

<!-- DELIVERABLES -->
{% if service.deliverables.exists %}
<section style="padding-bottom: var(--gap-md);">
    <div class="section-title" style="margin-top: 0;">What you get</div>
    <ul class="deliverables-list">
        {% for item in service.deliverables.all %}
        <li>{{ item.name }}</li>
        {% endfor %}
    </ul>
</section>
{% endif %}

<!-- PROCESS -->
{% if service.process_steps.exists %}
<section class="section-padding" style="padding-top: 0;">
    <div class="section-title" style="margin-top: 0;">The Process</div>
    <div class="process-grid">
        {% for step in service.process_steps.all %}
        <div class="process-step">
            <h4>{{ forloop.counter|stringformat:"02d" }}</h4>
            <h5>{{ step.title }}</h5>
            <p>{{ step.description }}</p>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- RELATED PROJECTS -->
{% if service.projects.exists %}
<section>
  <div class="section-title">Related Projects</div>
  <div class="project-list">
    {% for project in service.projects.all %}
    <a href="{% url 'project_detail' project.slug %}" class="project-card">
        {% if project.image %}
        <div class="project-img-wrap">
            <img src="{{ project.image.url }}" alt="{{ project.title }}">
        </div>
        {% endif %}
        <div class="project-meta">
            <h3>{{ project.title }}</h3>
            <div class="project-tags">
                {% for tech in project.technologies.all %}
                {{ tech.name }}{% if not forloop.last %} / {% endif %}
                {% endfor %}
            </div>
        </div>
    </a>
    {% endfor %}
  </div>
</section>
{% endif %}

<section class="section-padding" style="padding-bottom: var(--gap-md);">
    <div class="section-title">Start This Project</div>
    
    <div class="contact-content">
        <div class="contact-info">
            <p>
                I only take on a few selected projects at a time to ensure maximum quality and dedication. Please provide as much detail as possible about your project, timeline, and budget.
            </p>
    
            <p>
                Typical project timelines start at 6 weeks, and budgets typically begin at $8,000 USD, depending on complexity.
            </p>
            
            <h3>Quick Connect</h3>
            <a href="mailto:hello@alexdev.com">Email: hello@alexdev.com</a>
            <a href="tel:+15551234567">Phone: (555) 123-4567</a>
    
            <h3 style="margin-top: 20px;">Socials</h3>
            <div style="display: flex; gap: 20px;">
                <a target="_blank" class="btn-link" style="font-size: 1rem;" href="#">LinkedIn</a>
                <a target="_blank" class="btn-link" style="font-size: 1rem;" href="#">Github</a>
            </div>
        </div>
    
        <!-- CONTACT FORM -->
        <form method="POST" action="{% url 'contact' %}">
            {% csrf_token %}
    
            <div class="form-group">
                <label for="{{ form.name.id_for_label }}">Your Full Name*</label>
                {{ form.name }}
            </div>
    
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">Work Email*</label>
                {{ form.email }}
            </div>

            {{ form.service }}
    
            <div class="form-group">
                <label for="{{ form.budget.id_for_label }}">
                    Estimated Budget Range (USD)*
                </label>
                {{ form.budget }}
            </div>
    
            <div class="form-group">
                <label for="{{ form.body.id_for_label }}">
                    Project Details / Goals*
                </label>
                {{ form.body }}
            </div>
    
            <button type="submit" class="submit-btn">Send Inquiry</button>
        </form>
    </div>

</section>

{% endblock %}
